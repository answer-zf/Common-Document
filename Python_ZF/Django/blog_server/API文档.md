
-   目录

    -   [概述](##概述)
    -   [事件定义](##事件定义)
    -   [开发规范](##开发规范)
    -   [数据库结构](###数据库结构)
    -   [接口说明](##接口说明)
    -   [常见问题]()

## 概述

...

## 事件定义

1.  注册
2.  登录
3.  修改个人信息

## 开发规范

1.  后端环境

    -   python  3.8.2 + djagno 1.11.8 + mysql 8.0.21 + Ubuntu 18.04 + vim

2.  通信协议

    -   http

3.  通信格式

    -   json

4.  API 规范

    -   一定程度上 符合 RESTful 规范

## 数据库结构

|  字段名  |     类型     |   作用   |           备注1            | 备注2 |
| :------: | :----------: | :------: | :------------------------: | :---: |
| username | varchar(11)  |  用户名  | 注册时填写用户名，不可修改 | 主键  |
| nickname | varchar(30)  |   昵称   | 在博客中显示的名字，可修改 |  无   |
|  email   | varchar(50)  |   邮箱   |            预留            |  无   |
| password | varchar(40)  |   密码   |     用户密码已散列存储     |  无   |
|   sign   | varchar(50)  | 个人签名 |             无             |  无   |
|   info   | varchar(150) | 个人描述 |             无             |  无   |
|  avatar  | varchar(100) |   头像   |             无             |  无   |

## 接口说明

### 注册接口

> URL：http://127.0.0.1:8000/v1/users

1.  请求方式

    -   POST

2.  请求格式

    -   json 具体参数如下

|   字段    |       含义       | 类型  | 备注  |
| :-------: | :--------------: | :---: | :---: |
| username  |      用户名      | char  | 必填  |
|   email   |     用户邮箱     | char  | 必填  |
| password1 | 第一次输入的密码 | char  | 必填  |
| password2 | 第二次输入的密码 | char  | 必填  |

-   请求示例：
    -   `{'username':'xxx','email':'xxx','password1':'xxx','password2':'xxx'}`

3.  响应格式

    -   json 具体参数如下

|   字段   |             含义             | 类型  |                      备注                       |
| :------: | :--------------------------: | :---: | :---------------------------------------------: |
|   code   |             状态             |  int  |            默认正常：200，异常见 1.4            |
| username |            用户名            | char  |                       无                        |
|  da'ta   | 返回具体的数据都包含在data中 |  {}   | {token:xxx 此为会话保持用的令牌 - char，。。。} |

-   响应示例：
    -   `{'code':200,'username':'xxx','data':{'token':'xxx'}}`